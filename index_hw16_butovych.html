<html>
<head>
    <title>JAVASCRIPT hw16</title>
</head>
<body>
    <script>
        // ЗАДАНИЯ ДЛЯ РАЗМИНКИ!!!!!!)))
        //1) Задача состоит в следующем! Написать код который отправляет POST запрос со следующим body! 
        var obj = {
            data: {
                question: 'How are you',
                answer: 'I am good'
            }
        }
        const url = 'http://localhost:3000';
        const data = obj;
        try {
          const response = await fetch(url, {
            method: 'POST',
            body: JSON.stringify(data),
            headers: {
              'Content-Type': 'application/json'
            }
          });
          const json = await response.json();
          console.log(JSON.stringify(json));
        } catch (error) {
          console.error(error);
        }
        // И расширить серверную часть ниже добавить заголовки чтобы можно было отправить c любого домена и распарсить body и вернуть его!!
        const http = require('http');
        http.createServer((req, res) => {
            if (req.url === '/data') {
                res.end('I am good');
            }
            res.end( JSON.stringify('How are you') );
        }).listen(3000, '127.0.0.1', () => console.log('Server is listening on port:' + 3000) );
        //_____________________________________________________________________________________
        // 2) Отправить запрос исgользуя fetch или xmlhttprequest которой содержит query в url  
        // http://localhost:3000/phones?priceS=7000&priceF=40000&color=black - вот пример, где ?priceS=7000&priceF=40000&color=black -  query
        // где 7000 - 40000 - диапазон цен, то есть в query фильтр, диапазон 7000 - 40000  и цвет черный
        // Делаем сервер, НА сервере есть массив с обьектов, использем модуль
        const url = require('url') 
        // чтобы распарсить priceS, priceF, color и отдаем отфильтрованный массив phones по этим 3-м критериям, соответственно если поменять диапазон цен или цвет то и
        // массив уже будет другой, не хардкодим)))
        const phones = [
            {
                name: 'iphone7',
                price: 14000,
                color: 'black'
            },
            {
                name: 'iphone8',ы
                price: 18000,
                color: 'white'
            },
            {
                name: 'iphone10',
                price: 24000,
                color: 'pink'
            },
            {
                name: 'iphone11',
                price: 28000,
                color: 'black'
            },
            {
                name: 'sumsung',
                price: 14000,
                color: 'black'
            },
            {
                name: 'xiomi',
                price: 10000,
                color: 'black'
            },
            {
                name: 'meizu',
                price: 8000,
                color: 'green'
            },
            {
                name: 'huaiwei',
                price: 11000,
                color: 'black'
            },
        ];
    </script>
</body>
</html>